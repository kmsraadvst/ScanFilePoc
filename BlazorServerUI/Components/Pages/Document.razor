@page "/Document"
@using BlazorServerUI.RabbitMQ
@using Domain.Contracts

@inject Producer<DocumentToScanMessage> Producer

<MudText Typo="Typo.h3">Document</MudText>

<MudStack Class="pa-8 my-12 mx-20">
    <MudButton 
        Variant="Variant.Filled" 
        Color="Color.Success"
        OnClick="OnDocumentAdded">
        Document is added
    </MudButton>
</MudStack>

@code {

    private async Task OnDocumentAdded() {
        await Producer.PublishAsync(new DocumentToScanMessage(1045, 456));
    }
}