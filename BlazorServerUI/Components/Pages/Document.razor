@page "/Document"
@using BlazorServerUI.RabbitMQ
@using Domain.Contracts

@inject Producer<DocumentToScanMessage> Producer

<MudStack Class="pa-8 my-12 mx-20">
    
    <MudText Class="mb-12" Typo="Typo.h3">Document</MudText>
    
    <MudButton
        Class="align-self-start"
        Variant="Variant.Filled"
        Color="Color.Success"
        OnClick="OnDocumentAdded">
        Document is added
    </MudButton>
    
</MudStack>

@code {

    private async Task OnDocumentAdded() {
        await Producer.PublishAsync(new DocumentToScanMessage(1045, 456));
    }
}